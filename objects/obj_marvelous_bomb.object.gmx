<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_marvelous_bomb</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>10</depth>
  <persistent>0</persistent>
  <parentName>ctr_indestructible</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Variables.
 
 // Movement Variables:
 if obj_miniboss_2.hp&lt;=4 and obj_miniboss_2.phase_2=true
 {
    hspeed=2
    }
 else
 {
    if sign(par_character.x-x)=1
        {
            hspeed        = random_range(1,2)
            }
        else
            {
                hspeed        = random_range(-2,-1)
                }
            }
                
            vspeed          = -5
            gravity         = 0.21875;
            image_xscale    = obj_miniboss_2.image_xscale;
            image_yscale    = obj_miniboss_2.image_yscale;
            image_speed     = 0
            image_index     = 0
            
            
    // Collision variables:
        ground = false;
        hurt   = false;
        
        audio_play(_boss_throw,global.sfx_volume)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Explode.
                                
 // Dummy Effect:
    var xx;
        xx = (x-sprite_get_xoffset(sprite_index)+(sprite_get_width(sprite_index)/2));
    var yy;
        yy = (y-sprite_get_yoffset(sprite_index)+(sprite_get_height(sprite_index)/2));
    dummy_effect_create(spr_badnik_explosion, 0.35, xx, yy, -5, 0);
    dummy_effect_create(spr_red_glow, 0.35, xx, yy, 5, 0);
    instance_create(x,y,obj_enemy_part)  
    
    ctr_camera.Camera_ShakeScreen   = true;
    ctr_camera.Camera_ShakeDuration = 20;
    ctr_camera.Camera_ShakeForce    = 1;
    
    /* Debris */
    pro_r = instance_create(x+15,y-3,obj_badnik_debris);
    pro_l = instance_create(x-15,y-3,obj_badnik_debris);
    pro_r2 = instance_create(x+15,y-3,obj_badnik_debris);
    pro_l2 = instance_create(x-15,y-3,obj_badnik_debris);
    
    with(pro_r)
    {
    gravity = 0.3;
    hspeed = 1.5;
    vspeed = -3;
    };
    
    with(pro_l)
    {
    gravity = 0.3;
    hspeed = -1.5;
    vspeed = -3;
    };
    
    with(pro_r2)
    {
    gravity = 0.3;
    hspeed = 0.5;
    vspeed = -5;
    };
    
    with(pro_l2)
    {
    gravity = 0.3;
    hspeed = -0.5;
    vspeed = -5;
    };
    
    if instance_exists(obj_miniboss_2)
    {obj_miniboss_2.alarm[3]=1}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>vspeed=-5
if obj_miniboss_2.hp&lt;=4
{hspeed=-par_character.x_speed}
else{hspeed=-hspeed/1.5}
hurt=true
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if instance_exists(obj_miniboss_2)=false
    {
        instance_destroy()
        }
    else
    {
        if hurt=false
        {
            if !place_meeting(x, y + 1, par_terrain)
               {
                   gravity = 0.21875;
                   vspeed=clamp(vspeed,-15,5)
                   }
                else
                   {
                       if vspeed&gt;0
                       {
                       vspeed = -6;
                       }
                   }
                
                if place_meeting(x,y,par_terrain)
                {
                   y-=1;
                   }
        
               if image_xscale&lt;=1
               {
                   image_xscale += 0.01
                   image_yscale += 0.01
                   }
               }
               
               else
               {
                    if obj_miniboss_2.image_xscale!=1
                    {
                       image_xscale -= 0.01
                       image_yscale -= 0.01
                       }
                       }
                   
        
                    
        if place_meeting(x,y,par_character)
        {
            if image_index=0
            {
                with obj_character{character_state_hurt(other, false)}
                }
                
            if image_index=1
            {
                
                if hurt=false
                {
                    if(obj_character.state == CS_JUMP || obj_character.state == CS_ROLL || obj_character.shield_state == 1)
                    {
                    
                        if par_character.y&gt;y or obj_miniboss_2.hp&lt;=4
                        {
                            alarm[0]=1
                            }
                            
                        else
                        {
                            with obj_character
                            {
                                character_state_hurt(other, false)
                                }
                            }
                        }
                
                    else
                    {
                       with obj_character{character_state_hurt(other, false)}
                       }
                    }
                }
            }
        }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_miniboss_2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if hurt=true{if image_xscale&lt;0.7 or obj_miniboss_2.hp&lt;=4{instance_destroy()}}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
